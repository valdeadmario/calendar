{"version":3,"sources":["components/Calendar/actions.js","components/Calendar/index.jsx","components/Modal/index.jsx","hooks/useOuterClick.jsx","components/Calendar/reducer.js","reducers/index.js","components/App/index.jsx","index.js"],"names":["updateEvent","id","body","type","payload","Calendar","setPositions","setOpenModal","setEvent","dispatch","useDispatch","calendarComponentRef","useRef","useState","calendarWeekends","calendarEvents","useSelector","state","events","console","log","className","eventLimit","customButtons","agenda","theme","text","click","alert","buttonText","today","month","week","day","next","prev","defaultView","header","left","center","right","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","editable","droppable","eventDrop","event","start","onDragStart","ref","weekends","displayEventTime","dateClick","arg","x","jsEvent","pageX","y","pageY","date","eventClick","currentEvent","find","item","clientX","clientY","nowIndicator","slotDuration","slotLabelFormat","hour","minute","meridiem","Modal","positions","created","selectedEvent","close","title","color","setState","modalRef","callback","innerRef","callbackRef","useEffect","current","document","addEventListener","handleClick","removeEventListener","e","contains","target","useOuterClick","style","top","onClick","htmlFor","value","name","onChange","length","selected","timeInputLabel","dateFormat","showTimeInput","width","circleSize","circleSpacing","hex","ID","initialState","Date","notes","action","map","filter","combineReducers","store","createStore","rootReducer","App","showModal","setShowModal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.af3da38e.chunk.js","sourcesContent":["export const ADD_EVENT = \"ADD_EVENT\";\r\nexport const UPDATE_EVENT = \"UPDATE_EVENT\";\r\nexport const DELETE_EVENT = \"DELETE_EVENT\";\r\n\r\nexport const addEvent = (payload) => ({\r\n  type: ADD_EVENT,\r\n  payload,\r\n});\r\n\r\nexport const updateEvent = (id, body) => ({\r\n  type: UPDATE_EVENT,\r\n  payload: { body, id },\r\n});\r\n\r\nexport const deleteEvent = (id) => ({\r\n  type: DELETE_EVENT,\r\n  payload: id,\r\n});\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { updateEvent } from \"./actions\";\r\n\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\n\r\nimport \"./main.scss\";\r\n\r\nexport const Calendar = ({ setPositions, setOpenModal, setEvent }) => {\r\n  const dispatch = useDispatch();\r\n  const calendarComponentRef = useRef();\r\n  const [calendarWeekends, setCalendarWeekends] = useState(true);\r\n  const calendarEvents = useSelector((state) => state.events);\r\n  console.log(calendarEvents);\r\n  const moveEvent = ({ event }) => {\r\n    dispatch(updateEvent(event.id, { start: event.start }));\r\n  };\r\n\r\n  const handleDateClick = (arg) => {\r\n    console.log(arg);\r\n    setOpenModal(\"\");\r\n    setPositions({\r\n      x: arg.jsEvent.pageX,\r\n      y: arg.jsEvent.pageY,\r\n      date: arg.date,\r\n    });\r\n    setOpenModal(\"save\");\r\n  };\r\n\r\n  const handleEventClick = (arg) => {\r\n    const currentEvent = calendarEvents.find(\r\n      (item) => item.id === +arg.event.id\r\n    );\r\n    setPositions({ x: arg.jsEvent.clientX, y: arg.jsEvent.clientY });\r\n    setEvent(currentEvent);\r\n    setOpenModal(\"created\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-wrap\">\r\n      <div className=\"container\">\r\n        <h1 className=\"page-title\">Calendar</h1>\r\n        <div className=\"calendar\">\r\n          <h2>Calendar View</h2>\r\n          <div className=\"calendar-calendar\">\r\n            <FullCalendar\r\n              eventLimit={3}\r\n              customButtons={{\r\n                agenda: {\r\n                  theme: \"true\",\r\n                  text: \"Agenda\",\r\n                  click: function () {\r\n                    alert(\"clicked the agenda!\");\r\n                  },\r\n                },\r\n              }}\r\n              buttonText={{\r\n                today: \"Today\",\r\n                month: \"Month\",\r\n                week: \"Week\",\r\n                day: \"Day\",\r\n                next: \"Next\",\r\n                prev: \"Back\",\r\n              }}\r\n              defaultView=\"dayGridMonth\"\r\n              header={{\r\n                left: \"today,prev,next\",\r\n                center: \"title\",\r\n                right: \"dayGridMonth,timeGridWeek,timeGridDay,agenda\",\r\n              }}\r\n              plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n              editable={true}\r\n              droppable={true}\r\n              eventDrop={moveEvent}\r\n              onDragStart={console.log}\r\n              ref={calendarComponentRef}\r\n              weekends={calendarWeekends}\r\n              displayEventTime={false}\r\n              events={calendarEvents}\r\n              dateClick={handleDateClick}\r\n              eventClick={handleEventClick}\r\n              nowIndicator={true}\r\n              slotDuration={\"01:00:00\"}\r\n              slotLabelFormat={{\r\n                hour: \"numeric\",\r\n                minute: \"2-digit\",\r\n                meridiem: \"long\",\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { CirclePicker } from \"react-color\";\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nimport { useOuterClick } from \"hooks/useOuterClick\";\r\n\r\nimport {\r\n  addEvent,\r\n  updateEvent,\r\n  deleteEvent,\r\n} from \"components/Calendar/actions\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"./main.scss\";\r\n\r\nexport const Modal = ({\r\n  positions: { x, y, date },\r\n  created,\r\n  setEvent,\r\n  selectedEvent,\r\n  close,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({\r\n    title: (selectedEvent && selectedEvent.title) || \"\",\r\n    start: (selectedEvent && selectedEvent.start) || date,\r\n    color: (selectedEvent && selectedEvent.color) || \"\",\r\n  });\r\n\r\n  const modalRef = useOuterClick((e) => {\r\n    close();\r\n  });\r\n\r\n  const handleInput = (e) => {\r\n    setState({ ...state, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    dispatch(!created ? addEvent(state) : updateEvent(selectedEvent.id, state));\r\n    setEvent(null);\r\n    close();\r\n  };\r\n\r\n  const handleDiscard = () => {\r\n    dispatch(deleteEvent(selectedEvent.id));\r\n    setEvent(null);\r\n    close();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={modalRef}\r\n      className=\"modal\"\r\n      style={{ top: y + 15, left: x - 128 }}\r\n    >\r\n      <span className=\"top-bot\"></span>\r\n      <button onClick={close} className=\"modal-close\"></button>\r\n      <div className=\"modal-body\">\r\n        <div>\r\n          <label className=\"modal-label\" htmlFor=\"name\">\r\n            event name\r\n          </label>\r\n          <input\r\n            id=\"name\"\r\n            type=\"text\"\r\n            className=\"modal-input\"\r\n            value={state.title}\r\n            name=\"title\"\r\n            onChange={(e) =>\r\n              e.target.value.length <= 30 &&\r\n              setState({ ...state, title: e.target.value })\r\n            }\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"modal-label\" htmlFor=\"name\">\r\n            event date and time\r\n          </label>\r\n          <DatePicker\r\n            className=\"modal-input time\"\r\n            selected={state.start}\r\n            onChange={(date) => setState({ ...state, start: date })}\r\n            timeInputLabel=\"Time:\"\r\n            dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n            showTimeInput\r\n          />\r\n        </div>\r\n        <CirclePicker\r\n          className=\"modal-color-picker\"\r\n          width={\"100%\"}\r\n          circleSize={18}\r\n          circleSpacing={10}\r\n          color={state.color}\r\n          onChange={(color) =>\r\n            handleInput({ target: { name: \"color\", value: color.hex } })\r\n          }\r\n        />\r\n\r\n        <div className=\"buttons\">\r\n          <button className=\"red\" onClick={created ? handleDiscard : close}>\r\n            {created ? \"Discard\" : \"Cancel\"}\r\n          </button>\r\n          <button onClick={handleSubmit}>{created ? \"Edit\" : \"Save\"}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport const useOuterClick = (callback) => {\r\n  const innerRef = useRef();\r\n  const callbackRef = useRef();\r\n\r\n  useEffect(() => {\r\n    callbackRef.current = callback;\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick);\r\n    return () => document.removeEventListener(\"click\", handleClick);\r\n\r\n    function handleClick(e) {\r\n      if (\r\n        innerRef.current &&\r\n        callbackRef.current &&\r\n        !innerRef.current.contains(e.target)\r\n      ) {\r\n        callbackRef.current(e);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return innerRef;\r\n}\r\n","import { ADD_EVENT, UPDATE_EVENT, DELETE_EVENT } from \"./actions\";\r\n\r\nlet ID = 100;\r\n\r\nconst initialState = [\r\n  {\r\n    id: 0,\r\n    title: \"Lets begin\",\r\n    start: new Date(),\r\n    notes: \"\",\r\n    color: \"#9c27b0\",\r\n  },\r\n  { id: 1, title: \"Lets begin\", start: new Date(), notes: \"\" },\r\n];\r\n\r\nconst events = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_EVENT:\r\n      return [\r\n        ...state,\r\n        {\r\n          id: ID++,\r\n          ...action.payload,\r\n        },\r\n      ];\r\n\r\n    case UPDATE_EVENT:\r\n      return state.map((event) =>\r\n        event.id === action.payload.id\r\n          ? { ...event, ...action.payload.body }\r\n          : event\r\n      );\r\n\r\n    case DELETE_EVENT:\r\n      return state.filter((event) => event.id !== action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default events;\r\n","import { combineReducers } from \"redux\";\r\nimport events from \"components/Calendar/reducer\";\r\n\r\nexport default combineReducers({\r\n  events,\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { Calendar } from \"components/Calendar\";\r\nimport { Modal } from \"components/Modal\";\r\n\r\nimport rootReducer from \"reducers\";\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport const App = () => {\r\n  const [positions, setPositions] = useState({ x: 0, y: 0, date: new Date() });\r\n  const [showModal, setShowModal] = useState(\"\");\r\n  const [selectedEvent, setEvent] = useState(null);\r\n  return (\r\n    <Provider store={store}>\r\n      {showModal && (\r\n        <Modal\r\n          close={() => setShowModal(\"\")}\r\n          positions={positions}\r\n          created={showModal === \"created\"}\r\n          selectedEvent={selectedEvent}\r\n          setEvent={setEvent}\r\n        />\r\n      )}\r\n      <Calendar\r\n        setPositions={(arg) => {\r\n          setPositions(arg);\r\n        }}\r\n        setOpenModal={setShowModal}\r\n        setEvent={setEvent}\r\n      />\r\n    </Provider>\r\n  );\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}